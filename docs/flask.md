## Configure Template Engine

To use PH7 templates in you flask app you can use `ph7.flask.PH7Templates`.

```python
from flask import Flask

from ph7.flask import PH7Templates

app = Flask(__name__)
templates = PH7Templates(templates_path="./templates")
```

## Templates

Then you can define your views in the `./templates` directory.

```bash
|_ templates
  |_ __init__.py # default/root view
  |_ dogs.py
```

```python
@app.get("/")
def _home():
    return templates.render(
        name="root",
        context={},
    )

@app.get("/dogs")
def _dogs():
    return templates.render(
        name="dogs",
        context={},
    )
```

## Stylesheets

Define your stylesheet using [`CSSObject`](/ph7/css/#cssobject) and use [`Static Context`](/ph7/css/#static-context) to include the stylesheets in your views. First let's define `templates/styles.py`

<!-- {"type": "html", "file": "examples/flask_app/templates/styles.py", "input_only": true} -->
```python
from ph7 import CSSObject


class container(CSSObject):
    display = "flex"
    justify_content = "center"
    align_items = "center"
    flex_direction = "column"

    height = "100%"
    width = "100%"


class image(CSSObject):
    height = "200px"
    width = "400px"

    margin_bottom = "25px"
```

<!-- end -->

Next include the stylesheet by importing it and using one of the style classes.

<!-- {"type": "html", "file": "examples/flask_app/templates/dogs.py", "input_only": true, "lines": {"input": [0, -4]}} -->
```python
from templates.script import fetchDog
from templates.styles import container, image

from ph7.context import ctx
from ph7.html import body, button, div, head, html, img

ctx.static.view(__name__)


template = html(
    head(
        ctx.static.include,
    ),
    body(
        div(
            img(
                src="#",
                id="image",
                alt="Click to fetch dog",
                class_name=image,
            ),
            button(
                "Click to fetch a dog",
                on={
                    "click": fetchDog(),
                },
            ),
            class_name=container,
        )
    ),
)
```

<!-- end -->

This is what the rendered view looks like

```html
<html>
  <head>
    <link
      href="/static/css/templates_styles.css"
      rel="stylesheet"
      id="css.templates.styles"
    />
    <script
      src="/static/js/templates_script.js"
      type="text/javascript"
      id="js.templates.script"
    ></script>
  </head>
  <body>
    <div class="container">
      <img src="#" alt="Click to fetch dog" id="image" class="image" /><button
        onclick="fetchDog()"
      >
        Click to fetch a dog
      </button>
    </div>
  </body>
</html>

```

And this is what the rendered stylesheet looks like

```css
.container {
  display: flex;
  justify-content: center;
  align-items: center;
  flex-direction: column;
  height: 100%;
  width: 100%;
}
.image {
  height: 200px;
  width: 400px;
  margin-bottom: 25px;
}
```

> Note: In the final render of the stylesheet generated by static context, only the classes which have been used in a template will be included.

## Scripts

Write your scripts using the [`ph7.js`](/ph7/js) APIs.

<!-- {"type": "html", "file": "examples/flask_app/templates/script.py", "input_only": true} -->
```python
from ph7.js import console, document, fetch, js_callable


@js_callable
async def fetchDog():
    console.log("Fetching dog")
    response = await fetch(
        "https://dog.ceo/api/breeds/image/random",
        {
            "method": "GET",
        },
    )
    data = await response.json()
    console.log("Dog fetched")
    document.getElementById("image").src = data.message
```

<!-- end -->

Use the function in the view

<!-- {"type": "html", "file": "examples/flask_app/templates/dogs.py", "input_only": true, "lines": {"input": [0, -4]}} -->
```python
from templates.script import fetchDog
from templates.styles import container, image

from ph7.context import ctx
from ph7.html import body, button, div, head, html, img

ctx.static.view(__name__)


template = html(
    head(
        ctx.static.include,
    ),
    body(
        div(
            img(
                src="#",
                id="image",
                alt="Click to fetch dog",
                class_name=image,
            ),
            button(
                "Click to fetch a dog",
                on={
                    "click": fetchDog(),
                },
            ),
            class_name=container,
        )
    ),
)
```

<!-- end -->

This is what the rendered view looks like

```html
<html>
  <head>
    <link
      href="/static/css/templates_styles.css"
      rel="stylesheet"
      id="css.templates.styles"
    />
    <script
      src="/static/js/templates_script.js"
      type="text/javascript"
      id="js.templates.script"
    ></script>
  </head>
  <body>
    <div class="container">
      <img src="#" alt="Click to fetch dog" id="image" class="image" /><button
        onclick="fetchDog()"
      >
        Click to fetch a dog
      </button>
    </div>
  </body>
</html>
```

And this is what the rendered script looks like

```js
async function fetchDog() {
  console.log("Fetching dog");
  let response = await fetch("https://dog.ceo/api/breeds/image/random", {
    method: "GET",
  });
  let data = await response.json();
  console.log("Dog fetched");
  document.getElementById("image").src = data.message;
}
```
