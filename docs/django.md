## Configure Template Engine

To configure your Django application to use PH7 templates, update `settings.py` to use PH7's Django template engine.

```python
TEMPLATES = [
    {
        "NAME": "PH7",
        "BACKEND": "ph7.django.PH7Templates",
        "DIRS": [],
        "APP_DIRS": True,
        "OPTIONS": {},
    }
]
```

## Templates

```bash
|_ home
 |_ templates
   |_ __init__.py # default view
```

Define your view in `__init__.py`, when defining the view you need to name the default view `template`, for example

<!-- {"type": "html", "file": "examples/django_app/home/templates/__init__.py", "input_only": true} -->
```python
from ph7.html import body, div, html, title

template = html(
    title("Hello World"),
    body(
        div(
            "Hello, World!",
        )
    ),
)
```

<!-- end -->


When rendering the view, refer to this template using relative path

<!-- {"type": "html", "file": "examples/django_app/home/views.py", "input_only": true} -->
```python
from django.shortcuts import render


def home(request):
    return render(
        request=request,
        template_name="home",  # or "home:template"
    )
```

<!-- end -->

If you name your view anything other than `template`, you can specify the view name using `module:view` format. For example if you name your view `home`, you can specify the template as `app:home`.



## Forms

Forms can be included directly using `form` tag.

<!-- {"type": "html", "file": "examples/django_app/forms/templates/__init__.py", "input_only": true} -->
```python
from django import forms

from ph7.html import body, div, form, html, title


class UserForm(forms.Form):
    """User form class."""

    name = forms.CharField(label="username")
    email = forms.EmailField(label="email")
    password = forms.CharField(label="password", widget=forms.PasswordInput())


template = html(
    title("Forms Example"),
    body(
        div(
            form(
                UserForm(),
            ),
        )
    ),
)
```

<!-- end -->

```html
<html>
    <head>
        <title>Forms example</title>
    </head>
    <body>
        <div>
            <form>
                <label for="id_name">username:</label>
                <input type="text" name="name" required="" id="id_name">
                <label for="id_email">email:</label>
                <input type="email" name="email" maxlength="320" required="" id="id_email">
                <label for="id_password">password:</label>
                <input type="password" name="password" required="" id="id_password">
            </form>
        </div>
    </body>
</html>
```

## Stylesheets

Define your stylesheet using [`CSSObject`](/css/#cssobject) and use [`Static Context`](/css/#static-context) to include the stylesheets in your views. First let's define `templates/styles.py`

<!-- {"type": "html", "file": "examples/django_app/static_files/templates/styles.py", "input_only": true} -->
```python
from ph7.css import CSSObject


class main(CSSObject):
    display = "flex"
    align_items = "center"
    justify_content = "center"

    height = "100vh"
    width = "100vw"

    box_sizing = "border-box"
    margin = "0px"
    padding = "0px"
```

<!-- end -->

Next include the stylesheet by importing it and using one of the style classes.

<!-- {"type": "html", "file": "examples/django_app/static_files/templates/__init__.py", "input_only": true} -->
```python
from static_files.templates import styles as stylesheet

from ph7.context import ctx
from ph7.html import body, div, head, html, title

ctx.static.view(__name__)


template = html(
    title("Static Files Example"),
    head(
        ctx.static.include,
    ),
    body(
        div(
            "Hello, World!",
            class_name=stylesheet.main,
        )
    ),
)
```

<!-- end -->

This is what the rendered view looks like

```html
<html>
  <head>
    <title>Static Files Example</title>
    <link
      href="/static/css/static_files_templates_styles.css"
      rel="stylesheet"
      id="css.static_files.templates.styles"
    />
  </head>
  <body>
    <div class="main">Hello, World!</div>
  </body>
</html>
```

And this is what the rendered stylesheet looks like

```css
.main {
  display: flex;
  align-items: center;
  justify-content: center;
  height: 100vh;
  width: 100vw;
  box-sizing: border-box;
  margin: 0px;
  padding: 0px;
}
```

> Note: In the final render of the stylesheet generated by static context, only the classes which have been used in a template will be included.

## Scripts

Write your scripts using the [`ph7.js`](/js) APIs.

<!-- {"type": "html", "file": "examples/django_app/javascript/templates/script.py", "input_only": true} -->
```python
from ph7.js import alert, console, document, fetch, js_callable


@js_callable
async def fetchDog():
    console.log("Fetching dog")
    response = await fetch(
        "https://dog.ceo/api/breeds/image/random",
        {
            "method": "GET",
        },
    )
    data = await response.json()
    console.log("Dog fetched")
    document.getElementById("image").src = data.message
```

<!-- end -->

Use the function in the view

<!-- {"type": "html", "file": "examples/django_app/javascript/templates/__init__.py", "input_only": true} -->
```python
from javascript.templates.script import fetchDog
from javascript.templates.styles import image, main

from ph7.context import ctx
from ph7.html import body, button, div, head, html, img

ctx.static.view(__name__)

template = html(
    head(
        ctx.static.include,
    ),
    body(
        div(
            img(
                src="#",
                id="image",
                alt="Click to fetch dog",
                class_name=image,
            ),
            button(
                "Click to fetch a dog",
                handlers={
                    "onclick": fetchDog(),
                },
            ),
            class_name=main,
        )
    ),
)


if __name__ == "__main__":
    print(template.render({"_view": __name__}))
```

<!-- end -->

This is what the rendered view looks like

```html
<html>
  <head>
    <link
      href="/static/css/javascript_templates_styles.css"
      rel="stylesheet"
      id="css.javascript.templates.styles"
    />
    <script
      src="/static/js/javascript_templates_script.js"
      id="js.javascript.templates.script"
    ></script>
  </head>
  <body>
    <div class="main">
      <img src="#" alt="Click to fetch dog" id="image" class="image" /><button
        onclick="fetchDog()"
      >
        Click to fetch a dog
      </button>
    </div>
  </body>
</html>
```

And this is what the rendered script looks like

```js
async function fetchDog() {
  console.log("Fetching dog");
  let response = await fetch("https://dog.ceo/api/breeds/image/random", {
    method: "GET",
  });
  let data = await response.json();
  console.log("Dog fetched");
  document.getElementById("image").src = data.message;
}
```
